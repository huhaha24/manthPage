<!-- 宣传页面 -->
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport"
    content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <link rel="stylesheet" href="./adPageStyles.css" type="text/css" />
  <title>蜂算考研数学</title>
</head>

<body>
  <div class='adPage' id='adPage'>
    <div class="result">
      <div class="result__part1">
        <div class="result__part1-imgBox">
          <img src='./error.png' />
          <div class="result__part1-text">尝试探索更多题目吧 !</div>
        </div>
      </div>
      <div class="result__part2">
        <img class="result__part2-qrcode" src='./qrcode.png' />
        <div>
          关注公众号&nbsp;
          <span style="color: rgba(65, 95, 213, 1);font-weight: bold;">“无穹进阶”</span>
          &nbsp;免费试用
        </div>
        <div class="result__part2-function">答疑 ｜ 测试 ｜ 解析 ｜ 总结</div>
        <div class="result__part2-btn" @Click="toWeixin">前往微信</div>
      </div>
    </div>
    <img class='adPage__img' src='./adImg1.png' />
    <img class='adPage__img' src='./adImg2.png' />
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

  <script>
    const coupon = new Vue({
      el: '#adPage',
      data: {},
      methods: {
        copyText(str = '无穹进阶') {
          // const save = e => {
          //   e.clipboardData.setData('text/plain', str)
          //   e.preventDefault()
          // }
          // document.addEventListener('copy', save)
          // document.execCommand('copy')
          // document.removeEventListener('copy', save)
          if (typeof document.execCommand !== "function") {
            this.showToast("复制失败，请长按复制")
            return
          }
          const dom = document.createElement("textarea")
          dom.value = str
          dom.setAttribute('style', 'display: block;width: 1px;height: 1px;')
          document.body.appendChild(dom)
          dom.select()
          const result = document.execCommand('copy')
          document.body.removeChild(dom)
        },

        showToast(content, time = 1500) {
          const el = document.createElement("div")
          el.setAttribute("class", "toast")
          el.innerHTML = content
          document.body.appendChild(el)
          setTimeout(function () {
            el.classList.remove("fadeIn")
            el.classList.add("fadeOut")
            /*监听动画结束，移除提示信息元素*/
            el.addEventListener("animationend", function () {
              document.body.removeChild(el)
            })
            el.addEventListener("webkitAnimationEnd", function () {
              document.body.removeChild(el)
            })
          }, time)
        },

        toWeixin() {
          this.copyText('无穹进阶')
          this.showToast('已复制 “无穹进阶” 到剪贴板')
          // 前往微信
          setTimeout(() => {
            window.location.href = 'weixin://'
          }, 1500)
        }
      },

      mounted() { }
    })
  </script>
</body>

</html>
